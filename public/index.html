<!DOCTYPE html>
<!DOCTYPE html>
<html lang="sk">

<head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="%PUBLIC_URL%/favicon.png" />
    <link rel="icon" type="image/x-icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description"
        content="MT AUTOS - v치코 spo쬬hliv칳 autobaz치r v Su캜anoch pri Martine. Pon칰kame predaj, dovoz, v칳kup a leasing vozidiel. Kompletn칠 poistenie a financovanie na mieru." />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.mtautos.sk/" />
    <meta property="og:title" content="MT AUTOS - Autobaz치r Su캜any pri Martine" />
    <meta property="og:description"
        content="V치코 spo쬬hliv칳 autobaz치r v Su캜anoch. Predaj, dovoz, v칳kup a leasing vozidiel." />
    <meta property="og:image" content="https://www.mtautos.sk/og-image.jpg" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://www.mtautos.sk/" />
    <meta property="twitter:title" content="MT AUTOS - Autobaz치r Su캜any pri Martine" />
    <meta property="twitter:description"
        content="V치코 spo쬬hliv칳 autobaz치r v Su캜anoch. Predaj, dovoz, v칳kup a leasing vozidiel." />
    <meta property="twitter:image" content="https://www.mtautos.sk/og-image.jpg" />

    <link rel="canonical" href="https://www.mtautos.sk/" />

    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Jost:wght@400;600;700&family=Montserrat:wght@400;500;600&display=swap"
        rel="stylesheet">
    <!-- Cloudflare Turnstile -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>MT AUTOS - Autobaz치r Su캜any</title>
</head>

<body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <!-- Lenis Smooth Scrolling -->
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.19/bundled/lenis.min.js"></script>

    <!-- GSAP with ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- GSAP Animations -->
    <script>
        // GSAP Animations for MT AUTOS Website
        // Register ScrollTrigger plugin
        if (typeof gsap !== 'undefined') {
            gsap.registerPlugin(ScrollTrigger);
        }

        // Initialize Lenis smooth scrolling
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            direction: 'vertical',
            gestureDirection: 'vertical',
            smooth: true,
            mouseMultiplier: 1,
            smoothTouch: false,
            touchMultiplier: 2,
            infinite: false,
        });

        // Make lenis globally accessible so modals can control it
        window.lenis = lenis;

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }

        requestAnimationFrame(raf);

        // Connect Lenis to GSAP ScrollTrigger if available
        if (typeof gsap !== 'undefined') {
            lenis.on('scroll', ScrollTrigger.update);

            gsap.ticker.add((time) => {
                lenis.raf(time * 1000);
            });

            gsap.ticker.lagSmoothing(0);
        }

        // Wait for DOM to load
        document.addEventListener('DOMContentLoaded', function () {

            // Only run GSAP animations if GSAP is loaded
            if (typeof gsap === 'undefined') {
                console.log('GSAP not loaded, skipping animations');
                return;
            }

            // 1. HERO SECTION ANIMATIONS
            // Hero title animation
            const heroTitle = document.querySelector('.hero-title');
            if (heroTitle) {
                gsap.fromTo(heroTitle,
                    {
                        opacity: 0,
                        y: 50
                    },
                    {
                        opacity: 1,
                        y: 0,
                        duration: 0.9,
                        ease: "power2.out",
                        delay: 0.2
                    }
                );
            }

            // Hero subtitle animation
            const heroSubtitle = document.querySelector('.hero-subtitle');
            if (heroSubtitle) {
                gsap.fromTo(heroSubtitle,
                    {
                        opacity: 0,
                        scale: 0.8
                    },
                    {
                        opacity: 1,
                        scale: 1,
                        duration: 0.8,
                        ease: "back.out(1.7)",
                        delay: 0.6
                    }
                );
            }

            // Hero stats animation
            const statItems = document.querySelectorAll('.stat-item');
            if (statItems.length > 0) {
                gsap.fromTo(statItems,
                    {
                        opacity: 0,
                        scale: 0.8
                    },
                    {
                        opacity: 1,
                        scale: 1,
                        duration: 0.8,
                        ease: "back.out(1.7)",
                        stagger: 0.2,
                        delay: 0.8
                    }
                );
            }

            // 2. SCROLL ANIMATIONS (only animate elements that exist)

            // Generic section animations
            const sections = document.querySelectorAll('section');
            sections.forEach(section => {
                gsap.fromTo(section,
                    {
                        opacity: 0,
                        y: 30
                    },
                    {
                        opacity: 1,
                        y: 0,
                        duration: 0.8,
                        ease: "power2.out",
                        scrollTrigger: {
                            trigger: section,
                            start: 'top 80%',
                            end: 'bottom 20%',
                            toggleActions: 'play none none reverse'
                        }
                    }
                );
            });

            // Counter animations for stat numbers
            const statNumbers = document.querySelectorAll('.stat-number');
            statNumbers.forEach(counter => {
                const textNode = counter.childNodes[0];
                if (textNode && textNode.textContent) {
                    const target = parseInt(textNode.textContent) || 100;
                    const obj = { value: 0 };

                    // Set initial value to 0
                    textNode.textContent = 0;

                    // Animate immediately on page load with a small delay
                    gsap.to(obj, {
                        value: target,
                        duration: 2,
                        delay: 0.5,
                        ease: "power2.out",
                        onUpdate: () => {
                            textNode.textContent = Math.round(obj.value);
                        }
                    });
                }
            });

            // CTA button hover animations
            const ctaButtons = document.querySelectorAll('.cta-btn');
            ctaButtons.forEach(button => {
                const tl = gsap.timeline({ paused: true });

                tl.to(button, {
                    scale: 1.05,
                    duration: 0.3,
                    ease: "power2.out"
                });

                button.addEventListener('mouseenter', () => tl.play());
                button.addEventListener('mouseleave', () => tl.reverse());
            });

            // Car cards animation
            const carCards = document.querySelectorAll('.car-card');
            if (carCards.length > 0) {
                gsap.fromTo(carCards,
                    {
                        opacity: 0,
                        y: 30
                    },
                    {
                        opacity: 1,
                        y: 0,
                        duration: 0.6,
                        ease: "power2.out",
                        stagger: 0.1,
                        scrollTrigger: {
                            trigger: carCards[0],
                            start: 'top 90%',
                            toggleActions: 'play none none reverse'
                        }
                    }
                );
            }

            // SCROLL PROGRESS INDICATOR (only if element exists)
            const scrollProgressBar = document.querySelector('.scroll-progress-bar');
            if (scrollProgressBar) {
                gsap.to(scrollProgressBar, {
                    height: '100%',
                    ease: "none",
                    scrollTrigger: {
                        trigger: 'body',
                        start: 'top top',
                        end: 'bottom bottom',
                        scrub: true
                    }
                });
            }

            // PERFORMANCE OPTIMIZATION
            // Refresh ScrollTrigger on window resize
            window.addEventListener('resize', () => {
                ScrollTrigger.refresh();
            });

            console.log('游꿟 MT AUTOS animations loaded successfully!');
        });
    </script>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
</body>

</html>